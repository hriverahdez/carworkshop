<div class="row">
    <div class="col-md-6"><h4>Historial</h4></div>
    <div class="col-md-6" style="margin-top: 18px">
        <cws-maintenance-category-selector 
            [categories]="maintenanceCategories" 
            (onSelectedCategory)="applyFilter($event)"></cws-maintenance-category-selector>
    </div>
</div>
<hr>
<div class="mt-xs table-responsive">
    <table class="table">
        <thead>
            <tr>
                <th>Fecha</th>
                <th>Operaci√≥n</th>
                <th>Kilometraje</th>
                <th *ngIf="userIsAdmin" ></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngIf="maintenanceHistory && maintenanceHistory.length === 0">
                <td colspan="3" class="text-muted text-center">No tiene mantenimientos</td>
            </tr>
            <tr *ngFor="let maintenance of maintenanceHistory" [hidden]="filterMaintenance(maintenance)">
                <td>{{ (maintenance.date | date:'dd/MM/yyyy') || '---' }}</td>
                <td>{{ maintenance.category?.name }}</td>
                <td>{{ maintenance.mileage || '---' }}</td>
                <td *ngIf="userIsAdmin">
                    <a [routerLink]="['../../editMaintenance', maintenance.id]" class="text-primary">
                        <span class="fui-new"></span>
                    </a> |
                    <a (click)="requestDelete(maintenance)" class="text-danger">
                        <span class="fui-trash"></span>
                    </a>
                </td>
            </tr>

        </tbody>
    </table>
</div>